/* =================================== */
/*          ESTILOS GLOBAIS          */
/* =================================== */

body {
    font-family: 'Inter', sans-serif;
    background: linear-gradient(135deg, #2c003e 0%, #4a007b 100%);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
    padding: 30px 20px; /* Mais espaço vertical, menos nas laterais */
    padding-bottom: 150px; /* Espaço no final para os menus flutuantes */
    box-sizing: border-box;
    color: #fce4ec;
}

/* =================================== */
/*        LAYOUT DESKTOP (PADRÃO)      */
/* =================================== */

.game-container {
    background-color: #3b005e;
    border-radius: 25px;
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
    padding: 30px;
    max-width: 1400px; /* Mais largo para 8 colunas */
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 25px;
    align-items: center;
    border: 2px solid #6a008c;
}

h1 {
    font-family: 'Playfair Display', serif;
    font-size: 3.5rem;
    color: #ffb3e2;
    text-shadow: 0 4px 8px rgba(255, 179, 226, 0.3);
    margin-bottom: 10px;
    text-align: center;
}

.current-player-indicator {
    font-family: 'Playfair Display', serif;
    font-size: 1.6rem;
    font-weight: 600;
    color: #ffcee9;
    margin-bottom: 15px;
}

.board {
    display: grid;
    grid-template-columns: repeat(8, 1fr); /* 8 colunas */
    grid-template-rows: repeat(6, 1fr);
    gap: 10px;
    width: 100%;
    background: linear-gradient(145deg, #6a008c, #8300a7);
    padding: 20px;
    border-radius: 20px;
    box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.2), 0 8px 20px rgba(0, 0, 0, 0.3);
    border: 2px solid #b39ddb;
    grid-template-areas:
        "s0  s1  s2  s3  s4  s5  s6  s7"
        "s15 s14 s13 s12 s11 s10 s9  s8"
        "s16 s17 s18 s19 s20 s21 s22 s23"
        "s31 s30 s29 s28 s27 s26 s25 s24"
        "s32 s33 s34 s35 s36 s37 s38 s39"
        "s40 s41 s42 s43 s44 s45 s46 .";
}

.board-square {
    width: 100%;
    padding-bottom: 100%;
    position: relative;
    background: linear-gradient(45deg, #a7499f, #d156b8);
    border: 2px solid #f8e8f8;
    border-radius: 15px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-weight: 600;
    color: #ffffff;
    text-align: center;
    font-size: 0.8rem; /* Ajustado para caber em 8 colunas */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    transition: transform 0.3s ease-out, box-shadow 0.3s ease-out;
    padding: 8px;
    overflow: hidden;
}

.board-square:hover {
    transform: translateY(-5px) scale(1.03);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
}

.square-0 { grid-area: s0; } .square-1 { grid-area: s1; } .square-2 { grid-area: s2; } .square-3 { grid-area: s3; } .square-4 { grid-area: s4; } .square-5 { grid-area: s5; } .square-6 { grid-area: s6; } .square-7 { grid-area: s7; } .square-8 { grid-area: s8; } .square-9 { grid-area: s9; } .square-10 { grid-area: s10; } .square-11 { grid-area: s11; } .square-12 { grid-area: s12; } .square-13 { grid-area: s13; } .square-14 { grid-area: s14; } .square-15 { grid-area: s15; } .square-16 { grid-area: s16; } .square-17 { grid-area: s17; } .square-18 { grid-area: s18; } .square-19 { grid-area: s19; } .square-20 { grid-area: s20; } .square-21 { grid-area: s21; } .square-22 { grid-area: s22; } .square-23 { grid-area: s23; } .square-24 { grid-area: s24; } .square-25 { grid-area: s25; } .square-26 { grid-area: s26; } .square-27 { grid-area: s27; } .square-28 { grid-area: s28; } .square-29 { grid-area: s29; } .square-30 { grid-area: s30; } .square-31 { grid-area: s31; } .square-32 { grid-area: s32; } .square-33 { grid-area: s33; } .square-34 { grid-area: s34; } .square-35 { grid-area: s35; } .square-36 { grid-area: s36; } .square-37 { grid-area: s37; } .square-38 { grid-area: s38; } .square-39 { grid-area: s39; } .square-40 { grid-area: s40; } .square-41 { grid-area: s41; } .square-42 { grid-area: s42; } .square-43 { grid-area: s43; } .square-44 { grid-area: s44; } .square-45 { grid-area: s45; } .square-46 { grid-area: s46; }
.start-square { background: linear-gradient(45deg, #a7f3d0, #34d399); border-color: #baffd9; color: #1a5e4d; }
.end-square { background: linear-gradient(45deg, #fca5a5, #ef4444); border-color: #ffdce5; color: #7a0033; }
.action-square-red { background: linear-gradient(45deg, #ff4c4c, #c00000); border-color: #f8d0d0; color: white; }
.action-square-orange { background: linear-gradient(45deg, #fed7aa, #fb923c); border-color: #ffe6d3; color: #9a3412; }
.action-square-green { background: linear-gradient(45deg, #a7f3d0, #34d399); border-color: #baffd9; color: #1a5e4d; }
.action-square-purple { background: linear-gradient(45deg, #fbcfe8, #e879f9); border-color: #fde8ff; color: #831843; }
.player-piece { position: absolute; width: 28px; height: 28px; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 1.4rem; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.6); transition: all 0.5s ease-in-out; z-index: 10; }
.player-1 { background: radial-gradient(circle at top left, #ff4c4c, #c00000); color: white; border: 2px solid #f8d0d0; bottom: 5px; left: 5px; }
.player-2 { background: radial-gradient(circle at top left, #4c8cff, #004dc0); color: white; border: 2px solid #d0e8ff; bottom: 5px; right: 5px; }
.board-square span { display: block; width: 100%; display: flex; align-items: center; justify-content: center; flex-grow: 1; padding: 5px; box-sizing: border-box; outline: none; word-break: break-word; cursor: default; }
.board-square span:focus { background-color: rgba(255, 255, 255, 0.1); border-radius: 8px; }
.edit-icon { position: absolute; top: 5px; right: 5px; font-size: 0.8rem; color: rgba(255, 255, 255, 0.6); z-index: 11; cursor: pointer; padding: 3px; border-radius: 5px; transition: color 0.2s ease; }
.edit-icon:hover { color: rgba(255, 255, 255, 0.9); }

/* --- CONTROLES FLUTUANTES (DESKTOP) --- */
.floating-controls {
    position: fixed;
    bottom: 20px;
    right: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    z-index: 100;
}

.control-buttons {
    display: flex;
    gap: 15px;
}

.dice {
    width: 90px;
    height: 90px;
    background: linear-gradient(45deg, #e0e0e0, #ffffff);
    border: 4px solid #b0b0b0;
    border-radius: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: 'Playfair Display', serif;
    font-size: 3.5rem;
    font-weight: bold;
    color: #333;
    box-shadow: inset  0 0 15px rgba(0, 0, 0, 0.3), 0 5px 15px rgba(0, 0, 0, 0.2);
    text-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

.floating-controls button {
    background: linear-gradient(45deg, #ff69b4, #ff1493);
    color: white;
    padding: 12px 25px;
    border-radius: 30px;
    font-size: 1.1rem;
    font-weight: bold;
    cursor: pointer;
    border: none;
    box-shadow: 0 6px 20px rgba(255, 105, 180, 0.5);
    transition: all 0.3s ease;
}

.floating-controls button:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 25px rgba(255, 105, 180, 0.7);
}

.message-box {
    position: fixed;
    bottom: 20px;
    left: 20px;
    max-width: 450px;
    z-index: 99;
    background-color: rgba(59, 0, 94, 0.85);
    backdrop-filter: blur(4px);
    color: #ffe6f2;
    padding: 15px 20px;
    border-radius: 15px;
    border: 1px solid #ffcee9;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
    font-family: 'Playfair Display', serif;
    min-height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
}

/* =================================== */
/*       RESPONSIVIDADE (MOBILE)       */
/* =================================== */

@media (max-width: 950px) {
    body {
        padding: 10px;
        padding-bottom: 220px; /* Mais espaço final no mobile */
    }

    .game-container {
        padding: 15px;
    }

    h1 {
        font-size: 2.5rem;
    }
    
    .current-player-indicator {
        font-size: 1.4rem;
    }

    .board {
        grid-template-columns: repeat(4, 1fr);
        grid-template-rows: repeat(12, 1fr);
        gap: 8px;
        grid-template-areas:
            "s0  s1  s2  s3"
            "s7  s6  s5  s4"
            "s8  s9  s10 s11"
            "s15 s14 s13 s12"
            "s16 s17 s18 s19"
            "s23 s22 s21 s20"
            "s24 s25 s26 s27"
            "s31 s30 s29 s28"
            "s32 s33 s34 s35"
            "s39 s38 s37 s36"
            "s40 s41 s42 s43"
            "s44 s45 s46 .";
    }

    .board-square {
        font-size: 0.75rem; /* Mais legível */
    }

    /* Centraliza e empilha os controles no mobile */
    .floating-controls {
        bottom: 120px; /* Posição acima da caixa de mensagem */
        left: 50%;
        transform: translateX(-50%);
        width: 95%;
        right: auto;
    }
    
    .control-buttons {
        width: 100%;
        justify-content: center;
    }

    .message-box {
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        width: 90%;
        max-width: 450px;
    }

    .dice {
        width: 80px;
        height: 80px;
        font-size: 3rem;
    }

    .floating-controls button {
        padding: 10px 20px;
        font-size: 1rem;
    }
}