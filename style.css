/* Estilos globais para uma aparência moderna e sedutora */
body {
    font-family: 'Inter', sans-serif;
    /* Gradiente roxo profundo original - Efeito de fogo removido */
    background: linear-gradient(135deg, #2c003e 0%, #4a007b 100%);
    /* Propriedades de background do efeito de fogo removidas */

    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
    padding: 20px;
    box-sizing: border-box;
    color: #fce4ec; /* Cor do texto principal, suave e elegante */
    position: relative; /* Para que o z-index funcione se precisarmos */
    z-index: 1; /* Para garantir que o conteúdo esteja acima do fundo */
    padding-bottom: 100px; /* Adiciona espaço no final para não sobrepor elementos fixos */
}

/* Container principal do jogo */
.game-container {
    background-color: #3b005e; /* Fundo mais escuro para o container */
    border-radius: 25px;
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4); /* Sombra mais intensa para profundidade */
    padding: 40px;
    max-width: 950px; /* Largura máxima maior */
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 25px;
    align-items: center;
    border: 2px solid #6a008c; /* Borda sutil para definir o container */
    position: relative; /* Para que o z-index funcione se precisarmos */
    z-index: 1; /* Para garantir que o conteúdo esteja acima do fundo */
}

/* Título do jogo */
h1 {
    font-family: 'Playfair Display', serif; /* Fonte mais elegante para o título */
    font-size: 3.5rem;
    color: #ffb3e2; /* Rosa claro vibrante */
    text-shadow: 0 4px 8px rgba(255, 179, 226, 0.3); /* Sombra suave para o texto */
    margin-bottom: 15px;
    letter-spacing: 1px; /* Espaçamento entre letras para elegância */
}

/* Indicador do jogador atual */
.current-player-indicator {
    font-family: 'Playfair Display', serif;
    font-size: 1.6rem;
    font-weight: 600;
    color: #ffcee9; /* Rosa mais suave */
    margin-bottom: 15px;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* Tabuleiro do jogo - Novo layout de cobra */
.board {
    display: grid;
    /* Alterado para 8 colunas para melhor uso do espaço em desktop */
    grid-template-columns: repeat(8, 1fr);
    grid-template-rows: repeat(6, 1fr); /* 6 linhas para 47 casas */
    gap: 10px;
    width: 100%;
    max-width: 1200px; /* Aumentado para acomodar mais colunas */
    background: linear-gradient(145deg, #6a008c, #8300a7);
    padding: 20px;
    border-radius: 20px;
    box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.2), 0 8px 20px rgba(0, 0, 0, 0.3);
    border: 2px solid #b39ddb;
    /* Novo layout de cobra para 8 colunas */
    grid-template-areas:
        "s0  s1  s2  s3  s4  s5  s6  s7"
        "s15 s14 s13 s12 s11 s10 s9  s8"
        "s16 s17 s18 s19 s20 s21 s22 s23"
        "s31 s30 s29 s28 s27 s26 s25 s24"
        "s32 s33 s34 s35 s36 s37 s38 s39"
        "s40 s41 s42 s43 s44 s45 s46 .";
}

/* Estilo base para cada casa do tabuleiro */
.board-square {
    width: 100%;
    padding-bottom: 100%; /* Mantém a proporção 1:1 */
    position: relative;
    background: linear-gradient(45deg, #a7499f, #d156b8); /* Gradiente base da casa */
    border: 2px solid #f8e8f8; /* Borda clara */
    border-radius: 15px; /* Raio padrão para todos os cantos - SEMPRE RETO */
    display: flex;
    flex-direction: column; /* Para empilhar o lápis e o texto */
    justify-content: center;
    align-items: center;
    font-weight: 600;
    color: #ffffff; /* Texto branco */
    text-align: center;
    font-size: 0.85rem;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); /* Sombra para as casas */
    transition: transform 0.3s ease-out, box-shadow 0.3s ease-out, background 0.3s ease; /* Transições suaves */
    cursor: default; /* Removido cursor: pointer; para o bloco inteiro não ser o gatilho de edição */
    text-shadow: 0 1px 2px rgba(0,0,0,0.3); /* Sombra para o texto */
    padding: 10px; /* Más espacio interno */
    overflow: hidden; /* Garante que o conteúdo não vaze */
}

.board-square:hover {
    transform: translateY(-5px) scale(1.03);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
    background: linear-gradient(45deg, #d156b8, #a7499f);
}

/* Posicionamento das casas usando grid-area */
/* Linha 1: da esquerda para a direita */
.square-0 { grid-area: s0; }
.square-1 { grid-area: s1; }
.square-2 { grid-area: s2; }
.square-3 { grid-area: s3; }
.square-4 { grid-area: s4; }
.square-5 { grid-area: s5; }

/* Linha 2: da direita para a esquerda */
.square-6 { grid-area: s6; }
.square-7 { grid-area: s7; }
.square-8 { grid-area: s8; }
.square-9 { grid-area: s9; }
.square-10 { grid-area: s10; }
.square-11 { grid-area: s11; }

/* Linha 3: da esquerda para a direita */
.square-12 { grid-area: s12; }
.square-13 { grid-area: s13; }
.square-14 { grid-area: s14; }
.square-15 { grid-area: s15; }
.square-16 { grid-area: s16; }
.square-17 { grid-area: s17; }

/* Linha 4: da direita para a esquerda */
.square-18 { grid-area: s18; }
.square-19 { grid-area: s19; }
.square-20 { grid-area: s20; }
.square-21 { grid-area: s21; }
.square-22 { grid-area: s22; }
.square-23 { grid-area: s23; }

/* Linha 5: da esquerda para a direita */
.square-24 { grid-area: s24; }
.square-25 { grid-area: s25; }
.square-26 { grid-area: s26; }
.square-27 { grid-area: s27; }
.square-28 { grid-area: s28; }
.square-29 { grid-area: s29; }

/* Nova Linha 6: da direita para a esquerda */
.square-30 { grid-area: s30; }
.square-31 { grid-area: s31; }
.square-32 { grid-area: s32; }
.square-33 { grid-area: s33; }
.square-34 { grid-area: s34; }
.square-35 { grid-area: s35; }

/* Nova Linha 7: da esquerda para a direita */
.square-36 { grid-area: s36; }
.square-37 { grid-area: s37; }
.square-38 { grid-area: s38; }
.square-39 { grid-area: s39; }

/* Nova Linha 8: da direita para a esquerda (para as casas extras) */
.square-40 { grid-area: s40; }
.square-41 { grid-area: s41; }
.square-42 { grid-area: s42; }
.square-43 { grid-area: s43; }
.square-44 { grid-area: s44; }
.square-45 { grid-area: s45; }
.square-46 { grid-area: s46; }


/* Cores e estilos especiais para casas de ação/início/fim (inspiradas na imagem) */
.start-square {
    background: linear-gradient(45deg, #a7f3d0, #34d399);
    border-color: #baffd9;
    color: #1a5e4d;
}

.end-square {
    background: linear-gradient(45deg, #fca5a5, #ef4444);
    border-color: #ffdce5;
    color: #7a0033;
}

.action-square-red {
    background: linear-gradient(45deg, #ff4c4c, #c00000);
    border-color: #f8d0d0;
    color: white;
}

.action-square-orange {
    background: linear-gradient(45deg, #fed7aa, #fb923c);
    border-color: #ffe6d3;
    color: #9a3412;
}

.action-square-green {
    background: linear-gradient(45deg, #a7f3d0, #34d399);
    border-color: #baffd9;
    color: #1a5e4d;
}

.action-square-purple {
    background: linear-gradient(45deg, #fbcfe8, #e879f9);
    border-color: #fde8ff;
    color: #831843;
}

/* Peças dos jogadores - ajustadas para serem pequenas e no canto inferior */
.player-piece {
    position: absolute;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.5rem;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.6);
    transition: all 0.5s ease-in-out;
    z-index: 10;
}

.player-1 {
    background: radial-gradient(circle at top left, #ff4c4c, #c00000);
    color: white;
    border: 2px solid #f8d0d0;
    bottom: 5px; /* Posição no canto inferior */
    left: 5px;  /* Posição no canto esquerdo */
}

.player-2 {
    background: radial-gradient(circle at top left, #4c8cff, #004dc0);
    color: white;
    border: 2px solid #d0e8ff;
    bottom: 5px; /* Posição no canto inferior */
    right: 5px; /* Posição no canto direito */
}

/* Controles flutuantes */
.floating-controls {
    position: fixed;
    bottom: 20px;
    right: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px; /* Reduzido o gap principal */
    z-index: 100;
}

/* Novo container para os botões para alinhamento horizontal */
.control-buttons {
    display: flex;
    flex-direction: row; /* Botões lado a lado */
    gap: 15px; /* Espaço entre os botões */
}

/* Dado */
.dice {
    width: 100px;
    height: 100px;
    background: linear-gradient(45deg, #e0e0e0, #ffffff);
    border: 4px solid #b0b0b0;
    border-radius: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: 'Playfair Display', serif;
    font-size: 4rem; /* Ajustado para melhor visualização dos pontos */
    font-weight: bold;
    color: #333; /* Cor dos pontos */
    box-shadow: inset  0 0 15px rgba(0, 0, 0, 0.3), 0 5px 15px rgba(0, 0, 0, 0.2);
    text-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

/* Botão Lançar Dado e outros botões*/
.floating-controls button {
    background: linear-gradient(45deg, #ff69b4, #ff1493);
    color: white;
    padding: 12px 25px; /* Tamanho ligeiramente reduzido */
    border-radius: 30px;
    font-size: 1.1rem;
    font-weight: bold;
    cursor: pointer;
    border: none;
    box-shadow: 0 6px 20px rgba(255, 105, 180, 0.5);
    transition: background 0.4s ease, transform 0.3s ease, box-shadow 0.4s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 0 1px 2px rgba(0,0,0,0.2);
}

.floating-controls button:hover {
    background: linear-gradient(45deg, #ff1493, #ff69b4);
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 10px 25px rgba(255, 105, 180, 0.7);
}

.floating-controls button:active {
    transform: translateY(0);
    box-shadow: 0 4px 12px rgba(255, 105, 180, 0.4);
}

/* Caixa de mensagens */
.message-box {
    position: fixed; /* MANTÉM A CAIXA VISÍVEL */
    bottom: 20px;
    left: 20px;
    width: auto; /* Largura automática */
    max-width: 450px; /* Largura máxima */
    z-index: 99; /* Fica abaixo dos controles principais */

    background-color: rgba(74, 0, 123, 0.9); /* Fundo com leve transparência */
    backdrop-filter: blur(5px); /* Efeito de vidro fosco */
    color: #ffe6f2;
    padding: 20px 25px;
    border-radius: 15px;
    border: 2px solid #ffcee9;
    text-align: center;
    font-size: 1.1rem;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    min-height: 70px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Playfair Display', serif;
    font-weight: 400;
}

/* Estilo para o span editável */
.board-square span {
    display: block;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-grow: 1;
    padding: 5px;
    box-sizing: border-box;
    outline: none;
    word-break: break-word;
    cursor: default;
}

.board-square span:focus {
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
}

/* Estilo para o ícone de lápis */
.edit-icon {
    position: absolute;
    top: 5px;
    right: 5px;
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.6);
    z-index: 11;
    cursor: pointer;
    padding: 3px;
    border-radius: 5px;
    transition: color 0.2s ease;
}

.edit-icon:hover {
    color: rgba(255, 255, 255, 0.9);
}

/* Classes de curva removidas, apenas border-radius padrão de 15px */


/* Responsividade básica para telas menores */
@media (max-width: 768px) {
    h1 {
        font-size: 2.2rem; /* Reduzido */
    }
    .current-player-indicator {
        font-size: 1.2rem; /* Reduzido */
    }
    .board {
        grid-template-columns: repeat(4, 1fr);
        /* Mantendo 4 colunas como solicitado */
        grid-template-rows: repeat(12, 1fr); /* 12 linhas para 47 casas */
        grid-template-areas:
            "s0  s1  s2  s3"
            "s7  s6  s5  s4"
            "s8  s9  s10 s11"
            "s15 s14 s13 s12"
            "s16 s17 s18 s19"
            "s23 s22 s21 s20"
            "s24 s25 s26 s27"
            "s31 s30 s29 s28"
            "s32 s33 s34 s35"
            "s39 s38 s37 s36"
            "s40 s41 s42 s43" /* Corrigido para fluxo contínuo */
            "s44 s45 s46 .";  /* Corrigido para fluxo contínuo */
        gap: 5px; /* Reduzido drasticamente */
        padding: 10px; /* Reduzido */
    }

    /* As grid-areas não precisam ser redeclaradas aqui se não mudam */

    .board-square {
        font-size: 0.55rem; /* Reduzido drasticamente para caber o texto */
        padding: 4px;      /* Reduzido drasticamente */
        border-radius: 8px; /* Menor para telas pequenas */
    }
    .dice {
        width: 60px;   /* Reduzido */
        height: 60px;  /* Reduzido */
        font-size: 2.5rem; /* Reduzido */
        border-radius: 12px;
    }
    button {
        padding: 8px 16px; /* Reduzido */
        font-size: 0.9rem; /* Reduzido */
    }
    .message-box {
        font-size: 0.8rem; /* Reduzido */
        padding: 10px 15px; /* Reduzido */
    }
    .player-piece {
        width: 20px; /* Reduzido */
        height: 20px; /* Reduzido */
        font-size: 1rem; /* Reduzido */
    }
    .edit-icon {
        top: 2px;
        right: 2px;
        font-size: 0.6rem;
    }
}

@media (max-width: 480px) {
    .game-container {
        padding: 10px; /* Reduzido */
    }
    h1 {
        font-size: 1.8rem; /* Reduzido ainda mais */
    }
    .current-player-indicator {
        font-size: 1rem; /* Reduzido ainda mais */
    }
    .board-square {
        font-size: 0.45rem; /* Extremamente pequeno */
        word-break: break-all; /* Força a quebra de palavras para evitar overflow */
    }
}

@media (max-width: 800px) { /* Ponto de quebra um pouco maior para acomodar 3 colunas confortavelmente */
    body {
        padding: 10px;
        /* Espaço final para acomodar os 2 menus flutuantes */
        padding-bottom: 200px; 
    }

    h1 {
        font-size: 2.5rem;
        margin-bottom: 10px;
    }
    .current-player-indicator {
        font-size: 1.3rem;
    }
    .board {
        grid-template-columns: repeat(3, 1fr); /* 3 COLUNAS */
        grid-template-rows: repeat(16, 1fr);    /* 16 LINHAS para as 47 casas */
        gap: 8px;
        padding: 15px;
        max-width: 95vw; /* Garante que não saia da tela */
        /* Layout da cobra para 3 colunas */
        grid-template-areas:
            "s0  s1  s2"
            "s5  s4  s3"
            "s6  s7  s8"
            "s11 s10 s9"
            "s12 s13 s14"
            "s17 s16 s15"
            "s18 s19 s20"
            "s23 s22 s21"
            "s24 s25 s26"
            "s29 s28 s27"
            "s30 s31 s32"
            "s35 s34 s33"
            "s36 s37 s38"
            "s41 s40 s39"
            "s42 s43 s44"
            "s45 s46 .";
    }

    .board-square {
        font-size: 0.65rem;
        padding: 5px;
        font-weight: 500;
        border-radius: 12px;
    }
    
    .floating-controls {
        bottom: 100px; /* SOBE para dar espaço para a message-box */
        /* Centraliza os controles no mobile */
        left: 50%;
        transform: translateX(-50%);
        width: 95%; /* Ocupa a largura da tela */
        right: auto;
    }

    /* No mobile, os botões ficam em uma linha também, mas ajustados */
    .control-buttons {
        justify-content: center; /* Centraliza os botões */
        width: 100%;
    }

    .dice {
        width: 65px;
        height: 65px;
        font-size: 2.5rem;
        border-radius: 12px;
    }
    .floating-controls button {
        padding: 10px 15px; /* Menor para caber lado a lado */
        font-size: 0.8rem;
    }
    .message-box {
        /* Centraliza no mobile */
        left: 50%;
        transform: translateX(-50%);
        width: 95%;
        bottom: 15px; /* Posição na base da tela */
        padding: 15px;
        font-size: 0.9rem;
    }
    .player-piece {
        width: 24px;
        height: 24px;
        font-size: 1.2rem;
    }
} 